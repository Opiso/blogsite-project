{% extends 'partials/base.html' %}
{% block title %} Admin Dashboard {% endblock %}
{% load crispy_forms_tags %}
{% block content %}

{% load static %}
{% if messages %}
    <div class="alert-container">
        {% if messages %}
        {% for message in messages %}
        <div class="alert {{ message.tags }} text-center {% if message.tags == 'success' %} alert-success text-success {% elif message.tags == 'error' %} alert.error text-danger {% endif %}" 
            style="font-size: larger; font-weight: bold; font-style: italic; line-height: 3px;">{{ message }}
        </div>
        {% endfor %}
        {% endif %}
    </div>
{% endif %}

<div class="container">
    <div class="panel panel-danger">
      <div class="panel-heading">
        <h3 class="panel-title text-primary">Total Users</h3>
      </div>
      <table class="table table-hover table-bordered" id="dev-table">
        <thead>
          <tr>
            <th>UserName</th>
            <th>Profile Picture</th>
            <th>Contact</th>
            <th>Address</th>
            <th>Action</th>
          </tr>
        </thead>
        {% for c in users %}
  
        <tbody>
          <tr>
            <td> {{c.username}}</td>
            <td> 
              {% if c.author.profile_picture %}
              <img src="{{c.author.profile_picture.url}}" alt="" style="width: 40px; height: 40px; object-fit: cover;">
              {% else %}
                <img src="{{MEDIA_URL}}login-icon.jpg" alt="Profile Pic" height="40px" width="40px" />
              {% endif %}
            </td>
            <td>{{c.author.phone_number}}</td>
            <td>
                {% if c.author.address %}
                {{ c.author.address }}
                {% endif %}
            </td>
            <td><a class="btn btn-primary btn-xs" href=""><i class="fa fa-pencil"></i></a>
                <a class="btn btn-danger btn-xs" href="" type="button" onclick="return confirm('Are you sure you want to Delete this Customer?')">
                <span class="fa fa-trash"></span></a>
            </td>
           
          </tr>
        </tbody>
        {% endfor %}
      </table>
    </div>
  </div>

<div class="mt-5">
    {% include 'partials/footer.html' %}
</div>
{% endblock %}